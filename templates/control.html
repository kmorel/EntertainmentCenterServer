<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<title>TV Remote</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Load in jQuery and jQuery Mobile -->
<link href="/static/js/jquery.mobile-1.4.5/jquery.mobile-1.4.5.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/static/js/jquery-2.1.4.js"></script>
<script type="text/javascript" src="/static/js/jquery.mobile-1.4.5/jquery.mobile-1.4.5.js"></script>
<style type="text/css">
</style>
<link href="/static/css/controls-base.css" rel="stylesheet" type="text/css" />

<!-- Icons -->

<!-- iPad retina icon -->
<link href="/static/icons/favicon152.png"
      sizes="152x152"
      rel="apple-touch-icon-precomposed">
 
<!-- iPad retina icon (iOS < 7) -->
<link href="/static/icons/favicon144.png"
      sizes="144x144"
      rel="apple-touch-icon-precomposed">
 
<!-- iPad non-retina icon -->
<link href="/static/icons/favicon76.png"
      sizes="76x76"
      rel="apple-touch-icon-precomposed">
 
<!-- iPad non-retina icon (iOS < 7) -->
<link href="/static/icons/favicon72.png"
      sizes="72x72"
      rel="apple-touch-icon-precomposed">
 
<!-- iPhone 6 Plus icon -->
<link href="/static/icons/favicon180.png"
      sizes="120x120"
      rel="apple-touch-icon-precomposed">
 
<!-- iPhone retina icon (iOS < 7) -->
<link href="/static/icons/favicon114.png"
      sizes="114x114"
      rel="apple-touch-icon-precomposed">
 
<!-- iPhone non-retina icon (iOS < 7) -->
<link href="/static/icons/favicon57.png"
      sizes="57x57"
      rel="apple-touch-icon-precomposed">

<!-- 16x16 -->
<!-- <link rel="shortcut icon" href="/favicon.ico"> -->
<!-- 32x32 -->
<link rel="shortcut icon" href="/static/icons/favicon32.png">

<!-- Startup (splash) image -->

<!-- iPad retina portrait startup image -->
<link href="/static/icons/splash-1536x2008.png"
      media="(device-width: 768px) and (device-height: 1024px)
             and (-webkit-device-pixel-ratio: 2)
             and (orientation: portrait)"
      rel="apple-touch-startup-image">
 
<!-- iPad retina landscape startup image -->
<link href="/static/icons/splash-1496x2048.png"
      media="(device-width: 768px) and (device-height: 1024px)
             and (-webkit-device-pixel-ratio: 2)
             and (orientation: landscape)"
      rel="apple-touch-startup-image">
 
<!-- iPad non-retina portrait startup image -->
<link href="/static/icons/splash-768x1004.png"
      media="(device-width: 768px) and (device-height: 1024px)
             and (-webkit-device-pixel-ratio: 1)
             and (orientation: portrait)"
      rel="apple-touch-startup-image">
 
<!-- iPad non-retina landscape startup image -->
<link href="/static/icons/splash-748x1024.png"
      media="(device-width: 768px) and (device-height: 1024px)
             and (-webkit-device-pixel-ratio: 1)
             and (orientation: landscape)"
      rel="apple-touch-startup-image">
 
<!-- iPhone 6 Plus portrait startup image -->
<link href="/static/icons/splash-1242x2148.png"
      media="(device-width: 414px) and (device-height: 736px)
             and (-webkit-device-pixel-ratio: 3)
             and (orientation: portrait)"
      rel="apple-touch-startup-image">
 
<!-- iPhone 6 Plus landscape startup image -->
<link href="/static/icons/splash-1182x2208.png"
      media="(device-width: 414px) and (device-height: 736px)
             and (-webkit-device-pixel-ratio: 3)
             and (orientation: landscape)"
      rel="apple-touch-startup-image">
 
<!-- iPhone 6 startup image -->
<link href="/static/icons/splash-750x1294.png"
      media="(device-width: 375px) and (device-height: 667px)
             and (-webkit-device-pixel-ratio: 2)"
      rel="apple-touch-startup-image">
 
<!-- iPhone 5 startup image -->
<link href="/static/icons/splash-640x1096.png"
      media="(device-width: 320px) and (device-height: 568px)
             and (-webkit-device-pixel-ratio: 2)"
      rel="apple-touch-startup-image">
 
<!-- iPhone < 5 retina startup image -->
<link href="/static/icons/splash-640x920.png"
      media="(device-width: 320px) and (device-height: 480px)
             and (-webkit-device-pixel-ratio: 2)"
      rel="apple-touch-startup-image">
 
<!-- iPhone < 5 non-retina startup image -->
<link href="/static/icons/splash-320x460.png"
      media="(device-width: 320px) and (device-height: 480px)
             and (-webkit-device-pixel-ratio: 1)"
      rel="apple-touch-startup-image"> 

</head>

<body>
<div data-role="page" data-theme="b">
<div class="PowerArea">
  <div class="PowerSelect">
    <select name="state" id="state" data-native-menu="false" onchange="sendMode()">
      {% for mode in mode_list %}<option value="{{ mode }}">{{ mode }}</option>{% endfor %}
    </select>
  </div>
  <img src="/static/icons/power-on.png" alt="Refresh On" name="powerButton" id="powerButton" onclick="sendMode()" />
</div>
<div id="mainArea">
  <div class="ControlArea" id="EverythingOff">
    <h1>Select Mode</h1>
    <ul data-role="listview">
      {% for mode in on_mode_list %}
        <li><a href="#" onclick="sendModeByName('{{mode}}')">{{mode}}</a></li>
      {% endfor %}
    </ul>
  </div>
  <div class="ControlArea" id="TV">
    <div data-role="tabs">
      <div data-role="navbar">
        <ul>
          <li><a href="#playbackArea" data-ajax="false">Playback</a></li>
          <li><a href="#navigationArea" data-ajax="false">Navigation</a></li>
        </ul>
      </div>
      <div id="playbackArea" class="ButtonPanel">
        <div class="Button" style="left:22%;" onclick="send('DVR', 'play')">
          <img src="/static/icons/playback-play.png" alt="Play" />
        </div>
        <div class="Button" style="left:40%; width:35%; height:35%;" onclick="send('DVR', 'pause')">
          <img src="/static/icons/playback-pause.png" alt="Pause" />
        </div>
        <div class="Button" style="left:0%; top:25%;" onclick="send('DVR', 'reverse')">
          <img src="/static/icons/playback-seek-back.png" alt="Seek Backward" />
        </div>
        <div class="Button" style="left:83.3%; top:25%;" onclick="send('DVR', 'forward')">
          <img src="/static/icons/playback-seek-forward.png" alt="Seek Forward" />
        </div>
<!--
        <div class="Button" style="left:0%; bottom:10%;" onclick="sendTiVoBack(60)">
          <img src="/static/icons/playback-skip-back-time.png" alt="Back 1 Minute" />
        </div>
        <div class="SkipBackLabel" style="left:0%; bottom:10%">1 min</div>
        <div class="Button" style="left:16.6%; bottom:10%;" onclick="sendTiVoBack(30)">
          <img src="/static/icons/playback-skip-back-time.png" alt="Back 30 Seconds" />
        </div>
        <div class="SkipBackLabel" style="left:16.6%; bottom:10%">30 sec</div>
-->
<!--
        <div class="Button" style="left:33.3%; bottom:10%;" onclick="sendDirecTV('replay')">
          <img src="/static/icons/playback-skip-back-time.png" alt="Back 8 Seconds" />
        </div>
        <div class="SkipBackLabel" style="left:33.3%; bottom:10%">8 sec</div>
-->
<!--
        <div class="Button" style="right:33.3%; bottom:15%;" onclick="sendTiVoForward(8)">
          <img src="/static/icons/playback-skip-forward-time.png" alt="Forward 8 Seconds" />
        </div>
        <div class="SkipForwardLabel" style="right:33.3%; bottom:15%">8 sec</div>
-->
<!--
        <div class="Button" style="right:16.6%; bottom:15%;" onclick="sendDirecTV('skip')">
          <img src="/static/icons/playback-skip-forward-time.png" alt="Forward 30 Seconds" />
        </div>
        <div class="SkipForwardLabel" style="right:16.6%; bottom:15%">30 sec</div>
-->
<!--
        <div class="Button" style="right:0%; bottom:15%;" onclick="sendTiVoForward(60)">
          <img src="/static/icons/playback-skip-forward-time.png" alt="Forward 1 Minute" />
        </div>
        <div class="SkipForwardLabel" style="right:0%; bottom:15%">1 min</div>
-->
      </div>
      <div id="navigationArea" class="ButtonPanel">
        <div class="Button" style="left:0in; top:0in;" onclick="send('DVR', 'guide')" >
          <div class="TextButton">Guide</div>
        </div>
        <div class="Button" style="left:83.4%; top:0%;" onclick="send('DVR', 'xfinity')" >
          <div class="TextButton">List</div>
        </div>
        <div class="Button" style="left:41.6%; top:12.5%;" onclick="send('DVR', 'up')" >
          <img src="/static/icons/navigate-up.png" alt="Up" />
        </div>
        <div class="Button" style="left:25%; top:37.5%;" onclick="send('DVR', 'left')">
          <img src="/static/icons/navigate-left.png" alt="Left" />
        </div>
        <div class="Button" style="left:41.6%; top:37.5%;" onclick="send('DVR', 'ok')">
          <img src="/static/icons/navigate-select.png" alt="Select" />
        </div>
        <div class="Button" style="left:58.3%; top:37.5%;" onclick="send('DVR', 'right')">
          <img src="/static/icons/navigate-right.png" alt="Right" />
        </div>
        <div class="Button" style="left:41.6%; top:62.5%;" onclick="send('DVR', 'down')">
          <img src="/static/icons/navigate-down.png" alt="Down" />
        </div>
        <div class="Button" style="left:59%; top:5%;" onclick="send('DVR', 'page-up')">
          <img src="/static/icons/channel-up.png" alt="Channel Up" />
        </div>
        <div class="Button" style="left:59%; top:70%;" onclick="send('DVR', 'page-down')">
          <img src="/static/icons/channel-down.png" alt="Channel Down" />
        </div>
        <!--
        <div class="Button" style="left:0%; top:75%;" onclick="sendTiVo('tivo')">
          <div class="TextButton">TiVo</div>
        </div>
        <div class="Button" style="left:83.4%; top:75%;" onclick="sendTiVo('return')">
          <img src="/static/icons/navigate-return.png" alt="Return" />
        </div>
        -->
      </div>
    </div>
  </div>
  <div class="ControlArea" id="Blu-Ray">
    <div data-role="tabs">
      <div data-role="navbar">
        <ul>
          <li><a href="#playbackArea" data-ajax="false">Playback</a></li>
          <li><a href="#navigationArea" data-ajax="false">Navigation</a></li>
        </ul>
      </div>
      <div id="playbackArea" class="ButtonPanel">
        <div class="Button" style="left:22%;" onclick="send('Blu-Ray', 'play')">
          <img src="/static/icons/playback-play.png" alt="Play" />
        </div>
        <div class="Button" style="left:40%; width:35%; height:35%;" onclick="send('Blu-Ray', 'pause')">
          <img src="/static/icons/playback-pause.png" alt="Pause" />
        </div>
        <div class="Button" style="left:0%; top:25%;" onclick="send('Blu-Ray', 'seek-backward')">
          <img src="/static/icons/playback-seek-back.png" alt="Seek Backward" />
        </div>
        <div class="Button" style="left:83.3%; top:25%;" onclick="send('Blu-Ray', 'seek-forward')">
          <img src="/static/icons/playback-seek-forward.png" alt="Seek Forward" />
        </div>
        <div class="Button" style="left:0%; top:60%;" onclick="send('Blu-Ray', 'previous-track')">
          <img src="/static/icons/playback-skip-back.png" alt="Previous Track" />
        </div>
        <div class="Button" style="left:83.3%; top:60%;" onclick="send('Blu-Ray', 'next-track')">
          <img src="/static/icons/playback-skip-forward.png" alt="Next Track" />
        </div>
        <!--
        <div class="Button" style="left:0%; bottom:10%;" onclick="sendBluRayBack(60)">
          <img src="/static/icons/playback-skip-back-time.png" alt="Back 1 Minute" />
        </div>
        <div class="SkipBackLabel" style="left:0%; bottom:10%">1 min</div>
        <div class="Button" style="left:16.6%; bottom:10%;" onclick="sendBluRayBack(30)">
          <img src="/static/icons/playback-skip-back-time.png" alt="Back 30 Seconds" />
        </div>
        <div class="SkipBackLabel" style="left:16.6%; bottom:10%">30 sec</div>
        <div class="Button" style="left:33.3%; bottom:10%;" onclick="sendBluRayBack(8)">
          <img src="/static/icons/playback-skip-back-time.png" alt="Back 8 Seconds" />
        </div>
        <div class="SkipBackLabel" style="left:33.3%; bottom:10%">8 sec</div>
        <div class="Button" style="right:33.3%; bottom:15%;" onclick="sendBluRayForward(8)">
          <img src="/static/icons/playback-skip-forward-time.png" alt="Forward 8 Seconds" />
        </div>
        <div class="SkipForwardLabel" style="right:33.3%; bottom:15%">8 sec</div>
        <div class="Button" style="right:16.6%; bottom:15%;" onclick="sendBluRayForward(30)">
          <img src="/static/icons/playback-skip-forward-time.png" alt="Forward 30 Seconds" />
        </div>
        <div class="SkipForwardLabel" style="right:16.6%; bottom:15%">30 sec</div>
        <div class="Button" style="right:0%; bottom:15%;" onclick="sendBluRayForward(60)">
          <img src="/static/icons/playback-skip-forward-time.png" alt="Forward 1 Minute" />
        </div>
        <div class="SkipForwardLabel" style="right:0%; bottom:15%">1 min</div>
        -->
      </div>
      <div id="navigationArea" class="ButtonPanel">
        <div class="Button" style="left:0in; top:0in;" onclick="send('Blu-Ray', 'top-menu')" >
          <div class="TextButton">Top Menu</div>
        </div>
        <div class="Button" style="left:83.4%; top:0%;" onclick="send('Blu-Ray', 'pop-up-menu')" >
          <div class="TextButton">Pop Up / Menu</div>
        </div>
        <div class="Button" style="left:41.6%; top:12.5%;" onclick="send('Blu-Ray', 'up')" >
          <img src="/static/icons/navigate-up.png" alt="Up" />
        </div>
        <div class="Button" style="left:25%; top:37.5%;" onclick="send('Blu-Ray', 'left')">
          <img src="/static/icons/navigate-left.png" alt="Left" />
        </div>
        <div class="Button" style="left:41.6%; top:37.5%;" onclick="send('Blu-Ray', 'select')">
          <img src="/static/icons/navigate-select.png" alt="Select" />
        </div>
        <div class="Button" style="left:58.3%; top:37.5%;" onclick="send('Blu-Ray', 'right')">
          <img src="/static/icons/navigate-right.png" alt="Right" />
        </div>
        <div class="Button" style="left:41.6%; top:62.5%;" onclick="send('Blu-Ray', 'down')">
          <img src="/static/icons/navigate-down.png" alt="Down" />
        </div>
        <!--
        <div class="Button" style="left:59%; top:5%;" onclick="send('Blu-Ray', 'channel-up')">
          <img src="/static/icons/channel-up.png" alt="Channel Up" />
        </div>
        <div class="Button" style="left:59%; top:70%;" onclick="send('Blu-Ray', 'channel-down')">
          <img src="/static/icons/channel-down.png" alt="Channel Down" />
        </div>
        -->
        <div class="Button" style="left:0%; top:75%;" onclick="send('Blu-Ray', 'system-menu')">
          <div class="TextButton">System Menu</div>
        </div>
        <div class="Button" style="left:83.4%; top:75%;" onclick="send('Blu-Ray', 'return')">
          <img src="/static/icons/navigate-return.png" alt="Return" />
        </div>
      </div>
    </div>
  </div>
  <div class="ControlArea" id="FireTV">
    <h1><a href="firetv://">Fire TV Remote App</a></h1>
    <h1>Other Mobile Apps That Can Stream</a></h1>
    <h2><a href="nflx://">Netflix</a></h2>
    <h2><a href="HBOGO://">HBO Go</a></h2>
    <h2><a href="plex://">Plex</a></h2>
    <p>&nbsp;</p>
    <p>&nbsp;</p>
    <p><a onclick="pushToPage('/receiver/cycle-power')" href="javascript:void(0);">Fix No Sound</a></p>
  </div>
  <div class="ControlArea" id="Chromecast">
    <h1>Use an Appropriate Mobile App</h1>
    <h2><a href="http://youtube.com">You Tube</a></h2>
    <h2><a href="nflx://">Netflix</a></h2>
    <h2><a href="HBOGO://">HBO Go</a></h2>
    <h2><a href="plex://">Plex</a></h2>
    <br />
    <h2><a href="http://chromecast.com">Chromecast</a></h2>
  </div>
  <div class="ControlArea" id="Switch-PS-XBox">
    <h1>No Remote for Video Games</h1>
    Use Game Controllers
  </div>
  <div class="ControlArea" id="Wii">
    <h1>No Remote for Wii</h1>
    Use Game Controllers
  </div>
  <div class="ControlArea" id="Playstation2">
    <h1>No Remote for Playstation 2</h1>
    Use Game Controllers
  </div>
</div>
<div id="volumeArea">
  <div class="VolumeSelect">
    <form class="full-width-slider">
      <input id="volume" type="range" class="VolumeSlider" min="-20" max="20" data-highlight="true" />
    </form>
  </div>
  <img src="/static/icons/volume-on.png" id="mute" onclick="toggleMute()" />
</div>
<div class="statusArea">
  <a href="#systemMenu" data-rel="popup">
    <img src="/static/icons/gear.png" id="systemMenuButton" />
  </a>
  <div data-role="popup" id="systemMenu">
    <ul data-role="listview" data-inset="true">
      <!---<li><a href="#" onclick="reloadPage()">Reload</a></li>-->
      <li><a href="#" onclick="getStatus()">Get Status</a></li>
      <li><a href="#" onclick="openServerManager()">Open Server Manager</a></li>
      <li><a href="#" onclick="restartServer()">Restart Server</a></li>
    </ul>
  </div>
  <div id="status" class="statusBox" style="left:20%; width:80%;">
    <!-- Status Goes Here -->
  </div>
</div>
</div>
<!-- If you have trouble with a host not loading the controls.js script,
     you can force a new load by changing the url below slightly by changing
     the number after v= (which does nothing). -->
<script type="text/javascript" src="/static/js/controls.js?v=2"></script>
<script type="text/javascript">
$(document).ready(function() {
	// Initialize mode
	setUpModeByName('{{start_mode}}');
	// Make text box next to slider read only.
	$(".ui-slider-input").prop("readonly",true);
	// Initialize volume, slider, and mute
	//$('#volume').val({{volume}});
	$('#volume').val(0);
	$('#volume').slider('refresh');
	// Original had volume change on every slider movement, but the IR
	// update is too slow and finicky for that. Instead, change when
	// user lets go.
	//$('#volume').on("change", function(event, ui) {
	//	setVolume($('#volume').val());
	//});
	$('#volume').on("slidestart", function(event, ui) {
		volumeSliderStart();
	});
	$('#volume').on("slidestop", function(event, ui) {
		volumeSliderStop($('#volume').val());
	});
	setMuteFlag({{mute}});

	initGUI();

	// Specail way to remove address bar.
	window.addEventListener("load",function() {
		// Set a timeout...
		setTimeout(function(){
			// Hide the address bar!
			window.scrollTo(0, 1);
		}, 0);
	});
});
</script>
</body>
</html>
